<div class="button-row">
    <a mat-raised-button color="primary" [routerLink]="['/crews']">
        <mat-icon>list</mat-icon>
    </a>
</div>
<form [formGroup]="crewForm" (ngSubmit)="onFormSubmit()">
    <mat-form-field>
        <mat-select placeholder="Pilot" formControlName="pilot" required>
            <mat-option>--</mat-option>
            <mat-option *ngFor="let p of pilots" [value]="p">
                {{p.name}} {{p.familyName}}
            </mat-option>
        </mat-select>
        <mat-error>
            <span *ngIf="!crewForm.get('pilot').valid && crewForm.get('pilot').touched">
                Please choose Pilot
            </span>
        </mat-error>
        <!--<mat-hint>{{crewForm.get('pilot').value?.destination}}</mat-hint>-->
    </mat-form-field>
    <mat-form-field>
        <mat-select placeholder="Toppings" formControlName="toppings" multiple>
            <mat-select-trigger>
                {{crewForm.get('toppings').value ? crewForm.get('toppings').value[0] : ''}}
                <span *ngIf="crewForm.get('toppings').value?.length > 1" class="example-additional-selection">
                    (+{{crewForm.get('toppings').value.length - 1}}
                    {{crewForm.get('toppings').value?.length === 2 ? 'other' : 'others'}})
                </span>
            </mat-select-trigger>
            <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field>
        <mat-select placeholder="Stewardesses" formControlName="stews" multiple>
            <mat-select-trigger>
                {{crewForm.get('stews').value ? crewForm.get('stews').value[0]?.name : ''}}
                <span *ngIf="crewForm.get('stews').value?.length > 1" class="example-additional-selection">
                    (+{{crewForm.get('stews').value.length - 1}}
                    {{crewForm.get('stews').value?.length === 2 ? 'other' : 'others'}})
                </span>
            </mat-select-trigger>
            <mat-option *ngFor="let stew of stewardesses" [value]="stew">{{stew.name}} {{stew.familyName}}</mat-option>
        </mat-select>
    </mat-form-field>
    <div class="button-row">
        <button type="submit" [disabled]="!crewForm.valid" mat-raised-button color="primary">
            <mat-icon>save</mat-icon>
        </button>
    </div>
</form>



