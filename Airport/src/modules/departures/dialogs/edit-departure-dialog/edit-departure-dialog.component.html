<h2 mat-dialog-title>{{description}}</h2>

<form class="mat-dialog-content" [formGroup]="depForm" (ngSubmit)="onFormSubmit()">

    <mat-form-field class="form">
        <input matInput [max]="maxDate" [min]="minDate"
               [matDatepicker]="picker"
               formControlName="departureTime"
               placeholder="Choose Departure time">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker startView="year"></mat-datepicker>
        <mat-error>
      <span *ngIf="!depForm.get('departureTime').valid && depForm.get('departureTime').touched">
          Please enter Departure time
      </span>
        </mat-error>
    </mat-form-field>

    <mat-form-field class="form">
        <mat-select
            [(value)]="depForm.get('flight').value"
            placeholder="Flight"
            formControlName="flight"
            required>
            <mat-option *ngFor="let f of flights" [value]="f">
                {{f.number}}
            </mat-option>
        </mat-select>
        <mat-error>
            <span *ngIf="!depForm.get('flight').valid && depForm.get('flight').touched">
                Please choose Flight
            </span>
        </mat-error>
    </mat-form-field>

    <mat-form-field class="form">
        <mat-select
            [(value)]="depForm.get('crew').value"
            placeholder="Crew #"
            formControlName="crew"
            required>
            <mat-option *ngFor="let c of crews" [value]="c">
                {{c.id}}
            </mat-option>
        </mat-select>
        <mat-error>
            <span *ngIf="!depForm.get('crew').valid && depForm.get('crew').touched">
                Please choose Crew
            </span>
        </mat-error>
    </mat-form-field>

    <mat-form-field class="form">
        <mat-select
            [(value)]="depForm.get('plane').value"
            placeholder="Plane"
            formControlName="plane"
            required>
            <mat-option *ngFor="let p of planes" [value]="p">
                {{p.name}}
            </mat-option>
        </mat-select>
        <mat-error>
            <span *ngIf="!depForm.get('plane').valid && depForm.get('plane').touched">
                Please choose Plane
            </span>
        </mat-error>
    </mat-form-field>

    <div mat-dialog-actions>
        <button mat-button type="submit" [disabled]="!depForm.valid" mat-raised-button color="primary">
            <mat-icon>save</mat-icon>
        </button>
        <button mat-button (click)="onNoClick()" tabindex="-1">Cancel</button>
    </div>
</form>
